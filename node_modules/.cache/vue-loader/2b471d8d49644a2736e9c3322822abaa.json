{"remainingRequest":"/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/src/components/demo.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/src/components/demo.vue","mtime":1606556183213},{"path":"/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmMtbXktbm9kZXsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDApOwogIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXI7CiAgYmFja2dyb3VuZC1zaXplOiAxMDAlOwogIGJvcmRlcjojMDA4YzAwIHNvbGlkIDJweDsKICBoZWlnaHQ6ODBweDsKICB3aWR0aDo4MHB4OwogIGJvcmRlci1yYWRpdXM6IDQwcHg7Cn0KLmMtbm9kZS1uYW1lewogIHdpZHRoOjE2MHB4O21hcmdpbi1sZWZ0Oi00MHB4O3RleHQtYWxpZ246Y2VudGVyO21hcmdpbi10b3A6ODVweDsKfQo="},{"version":3,"sources":["demo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"demo.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div style=\"height:110px;padding-top:6px;padding-left: 30px;padding-right:30px;border-bottom: #efefef solid 1px;color: #555555;font-size: 12px;background-color: rgba(0,0,0,0);\">\n      <div style=\"\">\n        <div style=\"line-height: 20px;\">节点筛选：</div>\n        <el-radio-group v-model=\"checked_sex\" size=\"mini\" @change=\"doFilter\">\n          <el-radio-button label=\"\">全部</el-radio-button>\n          <el-radio-button label=\"男\"></el-radio-button>\n          <el-radio-button label=\"女\"></el-radio-button>\n        </el-radio-group>\n        &nbsp;&nbsp;&nbsp;&nbsp;\n        <el-radio-group v-model=\"checked_isgoodman\" size=\"mini\" style=\"margin-left:50px;\" @change=\"doFilter\">\n          <el-radio-button label=\"\">全部</el-radio-button>\n          <el-radio-button :label=\"true\">导师</el-radio-button>\n          <el-radio-button :label=\"false\">学生</el-radio-button>\n        </el-radio-group>\n      </div>\n      <div>\n        <div style=\"line-height: 20px;\">关系筛选：</div>\n        <el-checkbox-group v-model=\"rel_checkList\" @change=\"doFilter\">\n          <el-checkbox v-for=\"thisItem in all_rel_type\" :key=\"thisItem\" :label=\"thisItem\" />\n        </el-checkbox-group>\n      </div>\n    </div>\n    <div style=\"margin-top:0px;width: calc(100% - 10px);height:calc(100vh - 300px);\">\n      <SeeksRelationGraph ref=\"seeksRelationGraph\" :options=\"graphOptions\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport SeeksRelationGraph from 'relation-graph'\nexport default {\n  name: 'SeeksRelationGraphDemo',\n  components: { SeeksRelationGraph },\n  data() {\n    return {\n      g_loading: true,\n      demoname: '---',\n      checked_sex: '',\n      checked_isgoodman: '',\n      rel_checkList: ['师生','合作作者', '作者单位', '支持基金', '学位', '导师类型'],\n      all_rel_type: ['师生','合作作者', '作者单位', '支持基金', '学位', '导师类型'],\n      graphOptions: {\n        defaultNodeBorderWidth: 0,\n        defaultNodeColor: 'rgba(238, 178, 94, 1)',\n        allowSwitchLineShape: true,\n        allowSwitchJunctionPoint: true,\n        defaultLineShape: 1,\n        'layouts': [\n          {\n            'label': '自动布局',\n            'layoutName': 'force',\n            'layoutClassName': 'seeks-layout-force'\n          }\n        ],\n        defaultJunctionPoint: 'border'\n\n        // 这里可以参考\"Graph 图谱\"中的参数进行设置\n      }\n    }\n  },\n  created() {\n  },\n  mounted() {\n    this.setGraphData()\n  },\n  methods: {\n    setGraphData() {\n      var __graph_json_data = { 'rootId': 'N1', 'nodes': \n      [{ 'id': 'N1', 'text': '学生', 'color': '#ec6941', 'borderColor': '#ff875e',\n      'data': { 'isGoodMan': false, 'sexType': '男' },\n      'innerHTML': \n      '<div class=\"c-my-node\" style=\"background-image: url(https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=324943589,1694646028&fm=26&gp=0.jpg);border:#ff875e solid 3px;\"><div class=\"c-node-name\" style=\"color:#ff875e\">学生1</div></div>' },\n      { 'id': 'N3', 'text': '学生', 'color': '#ec6941', 'borderColor': '#ff875e',\n      'data': { 'isGoodMan': false, 'sexType': '男' },\n      'innerHTML': \n      '<div class=\"c-my-node\" style=\"background-image: url(https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=324943589,1694646028&fm=26&gp=0.jpg);border:#ff875e solid 3px;\"><div class=\"c-node-name\" style=\"color:#ff875e\">学生2</div></div>' },\n      { 'id': 'N4', 'text': '学校', 'color': '#ec6941', 'borderColor': '#ff875e',\n      'data': { 'isGoodMan': false, 'sexType': 'null' },\n      'innerHTML': \n      '<div class=\"c-my-node\" style=\"background-image: url(https://www.sdust.edu.cn/images/logo.png);border:#ff875e solid 3px;\"><div class=\"c-node-name\" style=\"color:#ff875e\">山东科技大学</div></div>' },\n      { 'id': 'N5', 'text': '学校', 'color': '#ec6941', 'borderColor': '#ff875e',\n      'data': { 'isGoodMan': false, 'sexType': 'null' },\n      'innerHTML': \n      '<div class=\"c-my-node\" style=\"background-image: url(http://www.igsnrr.cas.cn/images/gb2020-logo.png);border:#ff875e solid 3px;\"><div class=\"c-node-name\" style=\"color:#ff875e\">中国科学院地理科学与资源研究所</div></div>' },\n      { 'id': 'N6', 'text': '导师', 'color': '#ec6941', 'borderColor': '#ff875e',\n      'data': { 'isGoodMan': false, 'sexType': 'null' },\n      'innerHTML': \n      '<div class=\"c-my-node\" style=\"background-image: url(https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=324943589,1694646028&fm=26&gp=0.jpg);border:#ff875e solid 3px;\"><div class=\"c-node-name\" style=\"color:#ff875e\">刘海江</div></div>' },\n      { 'id': 'N2', 'text': '导师', 'color': '#ec6941', 'borderColor': '#ff875e',\n      'data': { 'isGoodMan': true, 'sexType': '男' }, \n      'innerHTML': '<div class=\"c-my-node\" style=\"background-image: url(https://www.sdust.edu.cn/__local/A/F7/1F/7BFCC671B3241474D287FEAACDE_5C608556_262F1.jpg?e=.jpg);border:#ff875e solid 3px;\"><div class=\"c-node-name\" style=\"color:#ff875e\">周成虎</div></div>' }],\n        \n      'links': [\n        { 'from': 'N1', 'to': 'N2', 'text': '师生', 'color': '#d2c0a5', 'fontColor': '#d2c0a5', 'data': { 'type': '师生' }},\n        { 'from': 'N3', 'to': 'N2', 'text': '师生', 'color': '#d2c0a5', 'fontColor': '#d2c0a5', 'data': { 'type': '师生' }},\n        { 'from': 'N4', 'to': 'N2', 'text': '作者单位', 'color': '#d2c0a5', 'fontColor': '#d2c0a5', 'data': { 'type': '作者单位' }},\n        { 'from': 'N5', 'to': 'N2', 'text': '作者单位', 'color': '#d2c0a5', 'fontColor': '#d2c0a5', 'data': { 'type': '作者单位' }},\n        { 'from': 'N6', 'to': 'N2', 'text': '合作作者', 'color': '#d2c0a5', 'fontColor': '#d2c0a5', 'data': { 'type': '合作作者' }},\n        { 'from': 'N5', 'to': 'N6', 'text': '作者单位', 'color': '#d2c0a5', 'fontColor': '#d2c0a5', 'data': { 'type': '作者单位' }},\n        ] }\n\n      this.$refs.seeksRelationGraph.setJsonData(__graph_json_data, (seeksRGGraph) => {\n        // 这些写上当图谱初始化完成后需要执行的代码\n      })\n    },\n    back(){\n        this.$router.go(-1);\n      },\n    doFilter() {\n      var _all_nodes = this.$refs.seeksRelationGraph.getNodes()\n      var _all_lines = this.$refs.seeksRelationGraph.getLines()\n      _all_nodes.forEach(thisNode => {\n        var _isHideThisLine = false\n        if (this.checked_sex !== '') {\n          if (thisNode.data['sexType'] !== this.checked_sex) {\n            _isHideThisLine = true\n          }\n        }\n        if (this.checked_isgoodman !== '') {\n          if (thisNode.data['isGoodMan'] !== this.checked_isgoodman) {\n            _isHideThisLine = true\n          }\n        }\n        thisNode.opacity = _isHideThisLine ? 0.1 : 1\n      })\n      _all_lines.forEach(thisLine => {\n        // 注意这里的line和json数据中link不一样，一条线（line）上可以附着多条关系(link),可以通过line.relations获取到这条线上所有的关系数据(link)\n        var _isHideThisLine = true\n        thisLine.relations.forEach(thisLink => {\n          if (this.rel_checkList.indexOf(thisLink.data['type']) === -1) {\n            thisLink.isHide = true\n          } else {\n            _isHideThisLine = false\n            thisLink.isHide = false\n          }\n        })\n        // thisNode.opacity = _isShowThisNode ? 1 : 0.1\n      })\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n  .c-my-node{\n    background-color: rgba(0,0,0,0);\n    background-position: center center;\n    background-size: 100%;\n    border:#008c00 solid 2px;\n    height:80px;\n    width:80px;\n    border-radius: 40px;\n  }\n  .c-node-name{\n    width:160px;margin-left:-40px;text-align:center;margin-top:85px;\n  }\n</style>\n"]}]}