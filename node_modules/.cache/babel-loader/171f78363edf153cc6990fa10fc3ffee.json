{"remainingRequest":"/Users/wjcwjc/Desktop/大学（临时）/大三上/2020301人立方/hcube-b/hcube-client/node_modules/babel-loader/lib/index.js!/Users/wjcwjc/Desktop/大学（临时）/大三上/2020301人立方/hcube-b/hcube-client/node_modules/eslint-loader/index.js??ref--13-0!/Users/wjcwjc/Desktop/大学（临时）/大三上/2020301人立方/hcube-b/hcube-client/src/http/http.js","dependencies":[{"path":"/Users/wjcwjc/Desktop/大学（临时）/大三上/2020301人立方/hcube-b/hcube-client/src/http/http.js","mtime":1601370726000},{"path":"/Users/wjcwjc/Desktop/大学（临时）/大三上/2020301人立方/hcube-b/hcube-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wjcwjc/Desktop/大学（临时）/大三上/2020301人立方/hcube-b/hcube-client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wjcwjc/Desktop/大学（临时）/大三上/2020301人立方/hcube-b/hcube-client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy93amN3amMvRGVza3RvcC9cdTU5MjdcdTVCNjZcdUZGMDhcdTRFMzRcdTY1RjZcdUZGMDkvXHU1OTI3XHU0RTA5XHU0RTBBLzIwMjAzMDFcdTRFQkFcdTdBQ0JcdTY1QjkvaGN1YmUtYi9oY3ViZS1jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKLyoqDQogKiBIdHRw6K+35rGCDQogKi8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0ICogYXMgdXJsIGZyb20gIi4vdXJsIjsKaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAiLi4vc3RvcmUvdHlwZXMiOwppbXBvcnQgKiBhcyBlcnJvcnMgZnJvbSAiLi4vYXNzZXRzL2NvbnN0YW50L2Vycm9ycyI7CmltcG9ydCB7IEJBU0VfVVJMIH0gZnJvbSAiLi4vYXNzZXRzL2NvbmZpZy9odHRwLmNvbmZpZyI7CmF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSBCQVNFX1VSTDsKdmFyIEh0dHAgPSB7CiAgLyoqDQogICAqIOS4umF4aW9z6K6+572udG9rZW4NCiAgICogQHBhcmFtIHtTdHJpbmd9IHRva2VuDQogICAqLwogIHNldFRva2VuOiBmdW5jdGlvbiBzZXRUb2tlbih0b2tlbikgewogICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9IHRva2VuOwogIH0sCgogIC8qKg0KICAgKiDmuIXpmaR0b2tlbg0KICAgKi8KICBjbGVhclRva2VuOiBmdW5jdGlvbiBjbGVhclRva2VuKCkgewogICAgd2luZG93LiR2dWUuJHN0b3JhZ2UucmVtb3ZlKHR5cGVzLlRPS0VOKTsKICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWyJBdXRob3JpemF0aW9uIl0gPSAiIjsKICAgIHdpbmRvdy4kdnVlLiRyb3V0ZXIucmVwbGFjZSgiL2xvZ2luIik7CiAgICB3aW5kb3cuJHZ1ZS4kbWVzc2FnZS5lcnJvcihlcnJvcnMuVE9LRU5fRVhQSVJFX1RFWFQpOwogIH0sCgogIC8qKg0KICAgKiDnmbvlvZUNCiAgICogQHBhcmFtIHtTdHJpbmd9IGFjY291bnQNCiAgICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkDQogICAqLwogIGRvTG9naW46IGZ1bmN0aW9uIGRvTG9naW4oYWNjb3VudCwgcGFzc3dvcmQpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7CiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCJhY2NvdW50IiwgYWNjb3VudCk7CiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCJwYXNzd29yZCIsIHBhc3N3b3JkKTsKICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QodXJsLkxPR0lOLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gZXJyb3JzLlNVQ0NFU1MpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhLmRhdGEpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLmNvZGUgPT09IGVycm9ycy5UT0tFTl9FWFBJUkUpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbGVhclRva2VuKCk7CgogICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcnMuVE9LRU5fRVhQSVJFX1RFWFQpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAoKICAvKioNCiAgICog5L+u5pS55a+G56CBDQogICAqIEBwYXJhbSB7U3RyaW5nfSBhY2NvdW50DQogICAqIEBwYXJhbSB7U3RyaW5nfSBvbGRQYXNzd29yZA0KICAgKiBAcGFyYW0ge1N0cmluZ30gbmV3UGFzc3dvcmQNCiAgICovCiAgbW9kaWZ5UGFzc3dvcmQ6IGZ1bmN0aW9uIG1vZGlmeVBhc3N3b3JkKGFjY291bnQsIG9sZFBhc3N3b3JkLCBuZXdQYXNzd29yZCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7CiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCJhY2NvdW50IiwgYWNjb3VudCk7CiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCJvbGRQYXNzd29yZCIsIG9sZFBhc3N3b3JkKTsKICAgICAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoIm5ld1Bhc3N3b3JkIiwgbmV3UGFzc3dvcmQpOwogICAgICAgICAgICAgICAgYXhpb3MucG9zdCh1cmwuTU9ESUZZX1BBU1NXT1JELCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gZXJyb3JzLlNVQ0NFU1MpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCLkv67mlLnmiJDlip8iKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuZGF0YS5jb2RlID09PSBlcnJvcnMuVE9LRU5fRVhQSVJFKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmNsZWFyVG9rZW4oKTsKCiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9ycy5UT0tFTl9FWFBJUkVfVEVYVCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlcy5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKCiAgLyoqDQogICAqIOmqjOivgeaXp+WvhueggQ0KICAgKiBAcGFyYW0ge1N0cmluZ30gYWNjb3VudA0KICAgKiBAcGFyYW0ge1N0cmluZ30gb2xkUGFzc3dvcmQNCiAgICovCiAgdmFsaWRPbGRQYXNzd29yZDogZnVuY3Rpb24gdmFsaWRPbGRQYXNzd29yZChhY2NvdW50LCBvbGRQYXNzd29yZCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7CiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCJhY2NvdW50IiwgYWNjb3VudCk7CiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCJvbGRQYXNzd29yZCIsIG9sZFBhc3N3b3JkKTsKICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QodXJsLlZBTElEX09MRF9QQVNTV09SRCwgcGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IGVycm9ycy5TVUNDRVNTKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgi6aqM6K+B5oiQ5YqfIik7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuY29kZSA9PT0gZXJyb3JzLlRPS0VOX0VYUElSRSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMy5jbGVhclRva2VuKCk7CgogICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcnMuVE9LRU5fRVhQSVJFX1RFWFQpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0sCgogIC8qKg0KICAgKiDpqozor4HotKblj7fmmK/lkKblrZjlnKgNCiAgICogQHBhcmFtIHtTdHJpbmd9IGFjY291bnQNCiAgICovCiAgdmFsaWRBY2NvdW50OiBmdW5jdGlvbiB2YWxpZEFjY291bnQoYWNjb3VudCkgewogICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGF4aW9zLmdldCh1cmwuVkFMSURfQUNDT1VOVCwgcGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IGVycm9ycy5TVUNDRVNTKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgi6aqM6K+B5oiQ5YqfIik7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuY29kZSA9PT0gZXJyb3JzLlRPS0VOX0VYUElSRSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNC5jbGVhclRva2VuKCk7CgogICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcnMuVE9LRU5fRVhQSVJFX1RFWFQpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0KTsKICAgIH0pKSgpOwogIH0sCgogIC8qKg0KICAgKiDliIbpobXmn6Xor6LnlKjmiLfliJfooagNCiAgICogQHBhcmFtIHtPYmplY3R9IGNvbmRpdGlvbg0KICAgKi8KICBxdWVyeVVzZXJzOiBmdW5jdGlvbiBxdWVyeVVzZXJzKGNvbmRpdGlvbikgewogICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgIGlmIChjb25kaXRpb24uZGlyID09PSAiYXNjZW5kaW5nIikgewogICAgICAgICAgICAgICAgICBjb25kaXRpb24uZGlyID0gImFzYyI7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbmRpdGlvbi5kaXIgPT09ICJkZXNjZW5kaW5nIikgewogICAgICAgICAgICAgICAgICBjb25kaXRpb24uZGlyID0gImRlc2MiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QodXJsLlFVRVJZX1VTRVJTLCBjb25kaXRpb24pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gZXJyb3JzLlNVQ0NFU1MpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuZGF0YS5jb2RlID09PSBlcnJvcnMuVE9LRU5fRVhQSVJFKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmNsZWFyVG9rZW4oKTsKCiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9ycy5UT0tFTl9FWFBJUkVfVEVYVCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlcy5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTUpOwogICAgfSkpKCk7CiAgfSwKCiAgLyoqDQogICAqIOS/neWtmOeUqOaItw0KICAgKiBAcGFyYW0ge09iamVjdH0gdXNlcg0KICAgKi8KICBzYXZlVXNlcjogZnVuY3Rpb24gc2F2ZVVzZXIodXNlcikgewogICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QodXJsLlNBVkVfVVNFUiwgdXNlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSBlcnJvcnMuU1VDQ0VTUykgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLmNvZGUgPT09IGVycm9ycy5UT0tFTl9FWFBJUkUpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczYuY2xlYXJUb2tlbigpOwoKICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3JzLlRPS0VOX0VYUElSRV9URVhUKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNik7CiAgICB9KSkoKTsKICB9LAoKICAvKioNCiAgICog5Yig6Zmk55So5oi3DQogICAqIEBwYXJhbSB7TnVtYmVyfSBpZA0KICAgKi8KICBkZWxldGVVc2VyOiBmdW5jdGlvbiBkZWxldGVVc2VyKGlkKSB7CiAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgYXhpb3MuZGVsZXRlKHVybC5ERUxFVEVfVVNFUiwgewogICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICBpZDogaWQKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSBlcnJvcnMuU1VDQ0VTUykgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLmNvZGUgPT09IGVycm9ycy5UT0tFTl9FWFBJUkUpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczcuY2xlYXJUb2tlbigpOwoKICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3JzLlRPS0VOX0VYUElSRV9URVhUKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNyk7CiAgICB9KSkoKTsKICB9LAoKICAvKioNCiAgICog6YeN572u5a+G56CBDQogICAqIEBwYXJhbSB7TnVtYmVyfSBpZA0KICAgKi8KICByZXNldFBhc3N3b3JkOiBmdW5jdGlvbiByZXNldFBhc3N3b3JkKGlkKSB7CiAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgYXhpb3MuZ2V0KHVybC5SRVNFVF9QQVNTV09SRCwgewogICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICBpZDogaWQKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSBlcnJvcnMuU1VDQ0VTUykgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLmNvZGUgPT09IGVycm9ycy5UT0tFTl9FWFBJUkUpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczguY2xlYXJUb2tlbigpOwoKICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3JzLlRPS0VOX0VYUElSRV9URVhUKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlOCk7CiAgICB9KSkoKTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IEh0dHA7"},{"version":3,"sources":["/Users/wjcwjc/Desktop/大学（临时）/大三上/2020301人立方/hcube-b/hcube-client/src/http/http.js"],"names":["axios","url","types","errors","BASE_URL","defaults","baseURL","Http","setToken","token","headers","common","clearToken","window","$vue","$storage","remove","TOKEN","$router","replace","$message","error","TOKEN_EXPIRE_TEXT","doLogin","account","password","Promise","resolve","reject","params","URLSearchParams","append","post","LOGIN","then","res","data","code","SUCCESS","TOKEN_EXPIRE","message","catch","err","modifyPassword","oldPassword","newPassword","MODIFY_PASSWORD","validOldPassword","VALID_OLD_PASSWORD","validAccount","get","VALID_ACCOUNT","queryUsers","condition","dir","QUERY_USERS","saveUser","user","SAVE_USER","deleteUser","id","delete","DELETE_USER","resetPassword","RESET_PASSWORD"],"mappings":"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","sourcesContent":["/**\r\n * Http请求\r\n */\r\nimport axios from \"axios\";\r\nimport * as url from \"./url\";\r\nimport * as types from \"../store/types\";\r\nimport * as errors from \"../assets/constant/errors\";\r\nimport { BASE_URL } from \"../assets/config/http.config\";\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nconst Http = {\r\n  /**\r\n   * 为axios设置token\r\n   * @param {String} token\r\n   */\r\n  setToken(token) {\r\n    axios.defaults.headers.common[\"Authorization\"] = token;\r\n  },\r\n  /**\r\n   * 清除token\r\n   */\r\n  clearToken() {\r\n    window.$vue.$storage.remove(types.TOKEN);\r\n    axios.defaults.headers.common[\"Authorization\"] = \"\";\r\n    window.$vue.$router.replace(\"/login\");\r\n    window.$vue.$message.error(errors.TOKEN_EXPIRE_TEXT);\r\n  },\r\n  /**\r\n   * 登录\r\n   * @param {String} account\r\n   * @param {String} password\r\n   */\r\n  async doLogin(account, password) {\r\n    return new Promise((resolve, reject) => {\r\n      const params = new URLSearchParams();\r\n      params.append(\"account\", account);\r\n      params.append(\"password\", password);\r\n      axios\r\n        .post(url.LOGIN, params)\r\n        .then(res => {\r\n          if (res.data.code === errors.SUCCESS) {\r\n            resolve(res.data.data);\r\n          } else if (res.data.code === errors.TOKEN_EXPIRE) {\r\n            this.clearToken();\r\n            reject(errors.TOKEN_EXPIRE_TEXT);\r\n          } else {\r\n            reject(res.data.message);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  /**\r\n   * 修改密码\r\n   * @param {String} account\r\n   * @param {String} oldPassword\r\n   * @param {String} newPassword\r\n   */\r\n  async modifyPassword(account, oldPassword, newPassword) {\r\n    return new Promise((resolve, reject) => {\r\n      const params = new URLSearchParams();\r\n      params.append(\"account\", account);\r\n      params.append(\"oldPassword\", oldPassword);\r\n      params.append(\"newPassword\", newPassword);\r\n      axios\r\n        .post(url.MODIFY_PASSWORD, params)\r\n        .then(res => {\r\n          if (res.data.code === errors.SUCCESS) {\r\n            resolve(\"修改成功\");\r\n          } else if (res.data.code === errors.TOKEN_EXPIRE) {\r\n            this.clearToken();\r\n            reject(errors.TOKEN_EXPIRE_TEXT);\r\n          } else {\r\n            reject(res.data.message);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  /**\r\n   * 验证旧密码\r\n   * @param {String} account\r\n   * @param {String} oldPassword\r\n   */\r\n  async validOldPassword(account, oldPassword) {\r\n    return new Promise((resolve, reject) => {\r\n      const params = new URLSearchParams();\r\n      params.append(\"account\", account);\r\n      params.append(\"oldPassword\", oldPassword);\r\n      axios\r\n        .post(url.VALID_OLD_PASSWORD, params)\r\n        .then(res => {\r\n          if (res.data.code === errors.SUCCESS) {\r\n            resolve(\"验证成功\");\r\n          } else if (res.data.code === errors.TOKEN_EXPIRE) {\r\n            this.clearToken();\r\n            reject(errors.TOKEN_EXPIRE_TEXT);\r\n          } else {\r\n            reject(res.data.message);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  /**\r\n   * 验证账号是否存在\r\n   * @param {String} account\r\n   */\r\n  async validAccount(account) {\r\n    return new Promise((resolve, reject) => {\r\n      const params = {\r\n        params: {\r\n          account: account\r\n        }\r\n      };\r\n      axios\r\n        .get(url.VALID_ACCOUNT, params)\r\n        .then(res => {\r\n          if (res.data.code === errors.SUCCESS) {\r\n            resolve(\"验证成功\");\r\n          } else if (res.data.code === errors.TOKEN_EXPIRE) {\r\n            this.clearToken();\r\n            reject(errors.TOKEN_EXPIRE_TEXT);\r\n          } else {\r\n            reject(res.data.message);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  /**\r\n   * 分页查询用户列表\r\n   * @param {Object} condition\r\n   */\r\n  async queryUsers(condition) {\r\n    return new Promise((resolve, reject) => {\r\n      if (condition.dir === \"ascending\") {\r\n        condition.dir = \"asc\";\r\n      } else if (condition.dir === \"descending\") {\r\n        condition.dir = \"desc\";\r\n      }\r\n      axios\r\n        .post(url.QUERY_USERS, condition)\r\n        .then(res => {\r\n          if (res.data.code === errors.SUCCESS) {\r\n            resolve(res.data);\r\n          } else if (res.data.code === errors.TOKEN_EXPIRE) {\r\n            this.clearToken();\r\n            reject(errors.TOKEN_EXPIRE_TEXT);\r\n          } else {\r\n            reject(res.data.message);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  /**\r\n   * 保存用户\r\n   * @param {Object} user\r\n   */\r\n  async saveUser(user) {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .post(url.SAVE_USER, user)\r\n        .then(res => {\r\n          if (res.data.code === errors.SUCCESS) {\r\n            resolve(res.data);\r\n          } else if (res.data.code === errors.TOKEN_EXPIRE) {\r\n            this.clearToken();\r\n            reject(errors.TOKEN_EXPIRE_TEXT);\r\n          } else {\r\n            reject(res.data.message);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  /**\r\n   * 删除用户\r\n   * @param {Number} id\r\n   */\r\n  async deleteUser(id) {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .delete(url.DELETE_USER, {\r\n          params: {\r\n            id: id\r\n          }\r\n        })\r\n        .then(res => {\r\n          if (res.data.code === errors.SUCCESS) {\r\n            resolve(res.data);\r\n          } else if (res.data.code === errors.TOKEN_EXPIRE) {\r\n            this.clearToken();\r\n            reject(errors.TOKEN_EXPIRE_TEXT);\r\n          } else {\r\n            reject(res.data.message);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  /**\r\n   * 重置密码\r\n   * @param {Number} id\r\n   */\r\n  async resetPassword(id) {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get(url.RESET_PASSWORD, {\r\n          params: {\r\n            id: id\r\n          }\r\n        })\r\n        .then(res => {\r\n          if (res.data.code === errors.SUCCESS) {\r\n            resolve(res.data);\r\n          } else if (res.data.code === errors.TOKEN_EXPIRE) {\r\n            this.clearToken();\r\n            reject(errors.TOKEN_EXPIRE_TEXT);\r\n          } else {\r\n            reject(res.data.message);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n};\r\n\r\nexport default Http;\r\n"]}]}