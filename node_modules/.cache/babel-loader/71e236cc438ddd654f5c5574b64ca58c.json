{"remainingRequest":"/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/node_modules/thread-loader/dist/cjs.js!/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/node_modules/babel-loader/lib/index.js!/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/src/views/login/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/src/views/login/Login.vue","mtime":1604745401394},{"path":"/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wjcwjc/Desktop/大学/大三上/2020301人立方/hcube-b/hcube-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC50by1qc29uIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL3dqY3dqYy9EZXNrdG9wL1x1NTkyN1x1NUI2Ni9cdTU5MjdcdTRFMDlcdTRFMEEvMjAyMDMwMVx1NEVCQVx1N0FDQlx1NjVCOS9oY3ViZS1iL2hjdWJlLWNsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy9pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICIuLi8uLi9zdG9yZS90eXBlcyI7Ci8vaW1wb3J0IEh0dHAgZnJvbSAiLi4vLi4vaHR0cC9odHRwIjsKLy9pbXBvcnQgbWQ1IGZyb20gImpzLW1kNSI7CmltcG9ydCB7IENIUk9NRV9ET1dOTE9BRF9VUkwgfSBmcm9tICIuLi8uLi9hc3NldHMvY29uZmlnL2h0dHAuY29uZmlnIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIC8v6aqM6K+B6LSm5Y+3CiAgICB2YXIgdmFsaWRhdGVBY2NvdW50ID0gZnVuY3Rpb24gdmFsaWRhdGVBY2NvdW50KHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUgPT09ICIiKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXotKblj7ciKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsgLy/pqozor4Hlr4bnoIEKCgogICAgdmFyIHZhbGlkYXRlUGFzc3dvcmQgPSBmdW5jdGlvbiB2YWxpZGF0ZVBhc3N3b3JkKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUgPT09ICIiKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXlr4bnoIEiKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgYWNjb3VudDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgYWNjb3VudDogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVBY2NvdW50LAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzc3dvcmQsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5rWP6KeI5Zmo5LiL6L29CiAgICBkb3dubG9hZDogZnVuY3Rpb24gZG93bmxvYWQoKSB7CiAgICAgIHdpbmRvdy5vcGVuKENIUk9NRV9ET1dOTE9BRF9VUkwsICJfc2VsZiIpOwogICAgfSwKICAgIC8v55m75b2VCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyBpZih0aGlzLmZvcm0uYWNjb3VudD09PSdhZG1pbicmJnRoaXMuZm9ybS5wYXNzd29yZD09PSIxMjM0NTYiKQogICAgICAvLyB7CiAgICAgIC8vICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgLy8gfQogICAgICB0aGlzLiRyZWZzWyJmb3JtIl0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgYWNjb3VudCA9IF90aGlzLmZvcm0uYWNjb3VudDsKICAgICAgICAgIHZhciBwYXNzd29yZCA9IG1kNShfdGhpcy5mb3JtLnBhc3N3b3JkKTsKICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgSHR0cC5kb0xvZ2luKGFjY291bnQsIHBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgaWYgKHJlcyAmJiByZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIHZhciB1c2VyID0gcmVzWzBdOwoKICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KHR5cGVzLlVTRVJfSU5GTywgdXNlcik7CgogICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQodHlwZXMuVE9LRU4sIHVzZXIudG9rZW4pOwoKICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KHR5cGVzLlJPTEUsIHVzZXIucm9sZSk7CgogICAgICAgICAgICAgIEh0dHAuc2V0VG9rZW4odXNlci50b2tlbik7CgogICAgICAgICAgICAgIF90aGlzLiRzdG9yYWdlLmNsZWFyKCk7CgogICAgICAgICAgICAgIF90aGlzLiRzdG9yYWdlLnNldCh0eXBlcy5VU0VSX0lORk8sIHVzZXIpOwoKICAgICAgICAgICAgICBfdGhpcy4kc3RvcmFnZS5zZXQodHlwZXMuVE9LRU4sIHVzZXIudG9rZW4pOwoKICAgICAgICAgICAgICBfdGhpcy4kc3RvcmFnZS5zZXQodHlwZXMuUk9MRSwgdXNlci5yb2xlKTsKCiAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvIik7CgogICAgICAgICAgICAgIGlmICh1c2VyLnBhc3N3b3JkID09PSAiMSIpIHsKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLndhcm5pbmcoIuaCqOeahOWvhueggeaciemjjumZqSzor7flsL3lv6vkv67mlLnlr4bnoIEhIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCLnmbvlvZXlpLHotKUiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICBpZiAoX3R5cGVvZihlcnIpID09PSAib2JqZWN0IikgewogICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKGVyci50b0pTT04oKSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVyciA9PT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<!--登录-->\n<template>\n  <div class=\"login\">\n    <div class=\"login-bg\">\n      <div class=\"ct\">\n        <div class=\"caption\">人立方</div>\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" class=\"content\">\n          <el-form-item prop=\"account\" class=\"login-input account\">\n            <el-input\n              prefix-icon=\"el-icon-s-custom\"\n              v-model=\"form.account\"\n              placeholder=\"请输入账号\"\n              clearable\n            ></el-input>\n          </el-form-item>\n          <el-form-item prop=\"password\" class=\"login-input password\">\n            <el-input\n              prefix-icon=\"el-icon-lock\"\n              v-model=\"form.password\"\n              placeholder=\"请输入密码\"\n              autocomplete=\"off\"\n              show-password\n              clearable\n              @keyup.enter.native=\"login\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item class=\"submit\">\n            <el-button :loading=\"loading\" type=\"primary\" @click=\"login\"\n              >登录</el-button\n            >\n          </el-form-item>\n          <el-form-item>\n            <el-link type=\"primary\" @click=\"download\">浏览器下载</el-link>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n//import * as types from \"../../store/types\";\n//import Http from \"../../http/http\";\n//import md5 from \"js-md5\";\nimport { CHROME_DOWNLOAD_URL } from \"../../assets/config/http.config\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    //验证账号\n    const validateAccount = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入账号\"));\n      } else {\n        callback();\n      }\n    };\n    //验证密码\n    const validatePassword = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      form: {\n        account: \"\",\n        password: \"\"\n      },\n      rules: {\n        account: [{ validator: validateAccount, trigger: \"blur\" }],\n        password: [{ validator: validatePassword, trigger: \"blur\" }]\n      },\n      loading: false\n    };\n  },\n  methods: {\n    //浏览器下载\n    download() {\n      window.open(CHROME_DOWNLOAD_URL, \"_self\");\n    },\n    //登录\n    login() {\n      // if(this.form.account==='admin'&&this.form.password===\"123456\")\n      // {\n      //   this.$router.push(\"/\");\n      // }\n      this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          const account = this.form.account;\n          const password = md5(this.form.password);\n          this.loading = true;\n          Http.doLogin(account, password)\n            .then(res => {\n              this.loading = false;\n              if (res && res.length > 0) {\n                const user = res[0];\n                this.$store.commit(types.USER_INFO, user);\n                this.$store.commit(types.TOKEN, user.token);\n                this.$store.commit(types.ROLE, user.role);\n                Http.setToken(user.token);\n                this.$storage.clear();\n                this.$storage.set(types.USER_INFO, user);\n                this.$storage.set(types.TOKEN, user.token);\n                this.$storage.set(types.ROLE, user.role);\n                this.$router.push(\"/\");\n                if (user.password === \"1\") {\n                  this.$message.warning(\"您的密码有风险,请尽快修改密码!\");\n                }\n              } else {\n                this.$message.error(\"登录失败\");\n              }\n            })\n            .catch(err => {\n              this.loading = false;\n              if (typeof err === \"object\") {\n                this.$message.error(err.toJSON());\n              } else if (typeof err === \"string\") {\n                this.$message.error(err);\n              }\n            });\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  .login-bg {\n    width: 30%;\n    padding: 10px;\n    .ct {\n      .caption {\n        user-select: none;\n        font-size: 40px;\n        font-weight: bold;\n        text-align: center;\n        color: #3a61aa;\n        margin-top: 10%;\n        margin-bottom: 10%;\n      }\n      .content {\n        margin: 10% 15%;\n      }\n      .password {\n        margin-top: 8%;\n      }\n      .submit {\n        margin-top: 12%;\n        .el-button {\n          width: 100%;\n          font-size: 20px;\n          border: none;\n          background: linear-gradient(to right, #3e66b1, #213e82);\n        }\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views/login"}]}